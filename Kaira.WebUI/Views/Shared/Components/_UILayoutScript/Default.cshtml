
@*
    UI Layout Script
*@
<script src="~/kaira-1.0.0/js/jquery.min.js"></script>
<script src="~/kaira-1.0.0/js/plugins.js"></script>
<script src="~/kaira-1.0.0/js/SmoothScroll.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
<script src="~/kaira-1.0.0/js/script.min.js"></script>

<script>
    document.getElementById("aiModal").addEventListener("show.bs.modal", async function () {

        const prompt = document.getElementById("promptInput").value;
        const resultBox = document.getElementById("aiResult");

        if (!prompt.trim()) {
            resultBox.innerHTML = "<p class='text-danger'>Lütfen bir prompt giriniz.</p>";
            return;
        }

        resultBox.innerHTML = "⏳ AI kombin hazırlanıyor...";

        const formData = new FormData();
        formData.append("prompt", prompt);

        const response = await fetch("/Home/GenerateStyle", {
            method: "POST",
            body: formData
        });

        const data = await response.text();

        resultBox.innerHTML = `
            <div class="p-3">
                <pre style="white-space: pre-wrap; font-family: inherit;">
    ${data}
                </pre>
            </div>
        `;
    });
</script>
